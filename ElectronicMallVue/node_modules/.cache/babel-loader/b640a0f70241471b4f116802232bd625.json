{"ast":null,"code":"import \"core-js/modules/es.array.fill.js\";\nexport var drawShapes = {\n  // 保持原有的 rect、pathMarker、invertedHouse、elevator、triangle 方法不变\n  rect: function rect(ctx, shop, gridSize) {\n    var x = shop.x * gridSize;\n    var y = shop.y * gridSize;\n    var width = shop.width * gridSize;\n    var height = shop.height * gridSize;\n    ctx.fillStyle = '#999';\n    ctx.fillRect(x, y, width, height);\n    ctx.strokeStyle = '#000';\n    ctx.strokeRect(x, y, width, height);\n  },\n  pathMarker: function pathMarker(ctx, point, gridSize) {\n    ctx.fillStyle = 'rgba(0,255,0,0.3)';\n    ctx.fillRect(point.x * gridSize, point.y * gridSize, gridSize, gridSize);\n  },\n  invertedHouse: function invertedHouse(ctx, shop, gridSize) {\n    var x = shop.x * gridSize;\n    var y = shop.y * gridSize;\n    var width = shop.width * gridSize;\n    var halfHeight = shop.height * gridSize / 2; // 绘制下半部分三角形\n\n    ctx.fillStyle = '#999';\n    ctx.beginPath();\n    ctx.moveTo(x, y + halfHeight);\n    ctx.lineTo(x + width / 2, y + halfHeight * 2);\n    ctx.lineTo(x + width, y + halfHeight);\n    ctx.closePath();\n    ctx.fill();\n    ctx.stroke(); // 绘制上半部分矩形\n\n    ctx.fillRect(x, y, width, halfHeight);\n    ctx.strokeRect(x, y, width, halfHeight);\n  },\n  elevator: function elevator(ctx, shop, gridSize) {\n    var x = shop.x * gridSize;\n    var y = shop.y * gridSize;\n    var w = shop.width * gridSize;\n    var h = shop.height * gridSize;\n    ctx.fillStyle = '#0099ff';\n    ctx.fillRect(x, y, w, h);\n    ctx.strokeStyle = 'black';\n    ctx.lineWidth = 1;\n    ctx.strokeRect(x, y, w, h);\n  },\n  triangle: function triangle(ctx, shop, gridSize) {\n    var x = shop.x * gridSize;\n    var y = shop.y * gridSize;\n    var width = shop.width * gridSize;\n    var height = shop.height * gridSize;\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + width, y);\n    ctx.lineTo(x + width / 2, y + height);\n    ctx.closePath();\n    ctx.fillStyle = '#999';\n    ctx.fill();\n    ctx.strokeStyle = 'black';\n    ctx.lineWidth = 1;\n    ctx.stroke();\n  },\n  trapezoid: function trapezoid(ctx, shop, gridSize) {\n    var x = shop.x * gridSize;\n    var y = shop.y * gridSize;\n    var widthTop = shop.width * gridSize;\n    var widthBottom = (shop.width + 2) * gridSize;\n    var height = shop.height * gridSize;\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + widthTop, y);\n    ctx.lineTo(x + widthBottom, y + height);\n    ctx.lineTo(x, y + height);\n    ctx.closePath();\n    ctx.fillStyle = '#999';\n    ctx.fill();\n    ctx.strokeStyle = 'black';\n    ctx.lineWidth = 1;\n    ctx.stroke();\n  },\n  rightTrapezoid: function rightTrapezoid(ctx, shop, gridSize) {\n    var x = shop.x * gridSize;\n    var y = shop.y * gridSize;\n    var widthTop = shop.width * gridSize;\n    var widthBottom = (shop.width + 2) * gridSize;\n    var height = shop.height * gridSize;\n    ctx.beginPath(); // 右上角顶点\n\n    ctx.moveTo(x + widthTop, y); // 左上角顶点\n\n    ctx.lineTo(x, y); // 左下角顶点\n\n    ctx.lineTo(x, y + height); // 右下角顶点\n\n    ctx.lineTo(x + widthBottom, y + height);\n    ctx.closePath();\n    ctx.fillStyle = '#999';\n    ctx.fill();\n    ctx.strokeStyle = 'black';\n    ctx.lineWidth = 1;\n    ctx.stroke();\n  }\n};","map":{"version":3,"sources":["D:/Workspace/graduation_project/ElectronicMall/ElectronicMallVue/src/views/front/mall/canvasRenderer/shapes.js"],"names":["drawShapes","rect","ctx","shop","gridSize","x","y","width","height","fillStyle","fillRect","strokeStyle","strokeRect","pathMarker","point","invertedHouse","halfHeight","beginPath","moveTo","lineTo","closePath","fill","stroke","elevator","w","h","lineWidth","triangle","trapezoid","widthTop","widthBottom","rightTrapezoid"],"mappings":"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","sourcesContent":["export const drawShapes = {\n  // 保持原有的 rect、pathMarker、invertedHouse、elevator、triangle 方法不变\n  rect(ctx, shop, gridSize) {\n    const x = shop.x * gridSize;\n    const y = shop.y * gridSize;\n    const width = shop.width * gridSize;\n    const height = shop.height * gridSize;\n    \n    ctx.fillStyle = '#999';\n    ctx.fillRect(x, y, width, height);\n    ctx.strokeStyle = '#000';\n    ctx.strokeRect(x, y, width, height);\n  },\n  pathMarker(ctx, point, gridSize) {\n    ctx.fillStyle = 'rgba(0,255,0,0.3)';\n    ctx.fillRect(\n      point.x * gridSize, \n      point.y * gridSize,\n      gridSize,\n      gridSize\n    );\n  },\n\n  invertedHouse(ctx, shop, gridSize) {\n    const x = shop.x * gridSize;\n    const y = shop.y * gridSize;\n    const width = shop.width * gridSize;\n    const halfHeight = shop.height * gridSize / 2;\n\n    // 绘制下半部分三角形\n    ctx.fillStyle = '#999';\n    ctx.beginPath();\n    ctx.moveTo(x, y + halfHeight);\n    ctx.lineTo(x + width/2, y + halfHeight*2);\n    ctx.lineTo(x + width, y + halfHeight);\n    ctx.closePath();\n    ctx.fill();\n    ctx.stroke();\n\n    // 绘制上半部分矩形\n    ctx.fillRect(x, y, width, halfHeight);\n    ctx.strokeRect(x, y, width, halfHeight);\n  },\n\n  elevator(ctx, shop, gridSize) {\n    const x = shop.x * gridSize;\n    const y = shop.y * gridSize;\n    const w = shop.width * gridSize;\n    const h = shop.height * gridSize;\n    ctx.fillStyle = '#0099ff';\n    ctx.fillRect(x, y, w, h);\n    ctx.strokeStyle = 'black';\n    ctx.lineWidth = 1;\n    ctx.strokeRect(x, y, w, h);\n  },\n  triangle(ctx, shop, gridSize) {\n    const x = shop.x * gridSize;\n    const y = shop.y * gridSize;\n    const width = shop.width * gridSize;\n    const height = shop.height * gridSize;\n\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + width, y);\n    ctx.lineTo(x + width / 2, y + height);\n    ctx.closePath();\n\n    ctx.fillStyle = '#999'; \n    ctx.fill();\n\n    ctx.strokeStyle = 'black'; \n    ctx.lineWidth = 1;\n    ctx.stroke();\n  },\n  trapezoid(ctx, shop, gridSize) {\n    const x = shop.x * gridSize;\n    const y = shop.y * gridSize;\n    const widthTop = shop.width * gridSize;\n    const widthBottom = (shop.width + 2) * gridSize;  \n    const height = shop.height * gridSize;\n\n    ctx.beginPath();\n    ctx.moveTo(x, y); \n    ctx.lineTo(x + widthTop, y); \n    ctx.lineTo(x + widthBottom, y + height); \n    ctx.lineTo(x, y + height); \n    ctx.closePath();\n\n    ctx.fillStyle = '#999'; \n    ctx.fill();\n\n    ctx.strokeStyle = 'black'; \n    ctx.lineWidth = 1;\n    ctx.stroke();\n  },\n  rightTrapezoid(ctx, shop, gridSize) {\n    const x = shop.x * gridSize;\n    const y = shop.y * gridSize;\n    const widthTop = shop.width * gridSize;\n    const widthBottom = (shop.width + 2) * gridSize;\n    const height = shop.height * gridSize;\n\n    ctx.beginPath();\n    // 右上角顶点\n    ctx.moveTo(x + widthTop, y);\n    // 左上角顶点\n    ctx.lineTo(x, y);\n    // 左下角顶点\n    ctx.lineTo(x, y + height);\n    // 右下角顶点\n    ctx.lineTo(x + widthBottom, y + height);\n    ctx.closePath();\n\n    ctx.fillStyle = '#999';\n    ctx.fill();\n\n    ctx.strokeStyle = 'black';\n    ctx.lineWidth = 1;\n    ctx.stroke();\n  }\n};  "]},"metadata":{},"sourceType":"module"}